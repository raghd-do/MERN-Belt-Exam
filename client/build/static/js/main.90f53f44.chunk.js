(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{143:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(86),o=a.n(c),r=(a(96),a(98),a(30)),s=a(9),m=a(16),i=a(34),u=a.n(i),E=a(61),p=a(173),f=a(177),b=a(181),d=a(180),h=a(175),g=a(178),v=a(179),N=a(176),k=function(e){var t=e.items;return l.a.createElement(l.a.Fragment,null,l.a.createElement(h.a,{component:N.a},l.a.createElement(f.a,{sx:{minWidth:650},"aria-label":"simple table"},l.a.createElement(g.a,null,l.a.createElement(v.a,null,l.a.createElement(d.a,null,"Name"),l.a.createElement(d.a,{align:"right"},"Type"),l.a.createElement(d.a,{align:"right"},"Actions"))),l.a.createElement(b.a,null,t.map(function(e){return l.a.createElement(v.a,{key:e._id,sx:{"&:last-child td, &:last-child th":{border:0}}},l.a.createElement(d.a,{component:"th",scope:"row"},e.name),l.a.createElement(d.a,{align:"right"},e.type),l.a.createElement(d.a,{align:"right"},l.a.createElement(r.b,{to:"/pets/".concat(e._id),style:{textDecoration:"none"},className:"me-3"},l.a.createElement(p.a,{variant:"contained"},"Details")),l.a.createElement(r.b,{to:"/pets/".concat(e._id,"/edit"),style:{textDecoration:"none"}},l.a.createElement(p.a,{variant:"contained"},"Edit"))))})))))},j=Object(E.a)(":8000"),O=function(e){var t=Object(n.useState)([]),a=Object(m.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)(!1),i=Object(m.a)(s,2),E=i[0],p=i[1];return Object(n.useEffect)(function(){return j.on("connect",function(){console.log("Main connected")}),j.on("disconnect",function(){console.log("Main disconnected")}),console.log(j),j.on("adopted",function(e){console.log("am I here ?"),console.log(e)}),function(){j.disconnect(!0)}},[]),Object(n.useEffect)(function(){p(!1),u.a.get("http://localhost:8000/api/pets").then(function(e){var t=e.data.sort(function(e,t){return e.type<t.type?-1:1});o(t),p(!0)}).catch(function(e){return console.log(e)})},[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"text-end"},l.a.createElement(r.b,{to:"/pets/new"},"add a pet to the shelter")),l.a.createElement("h1",{className:"text-start mb-3"},"Pet Shelter"),l.a.createElement("h4",{className:"text-start mb-5"},"These pets are looking for a good home"),E&&l.a.createElement(k,{items:c,setItems:o}))},x=a(171),y=a(48),_=a(132),S=a.n(_),w=a(182),D=a(183),C=function(e){var t=e.init,a=e.onSubmit,c=e.btn,o=Object(n.useState)({name:t.name,type:t.type,desc:t.desc,skill_1:t.skill_1,skill_2:t.skill_2,skill_3:t.skill_3,likes:0}),r=Object(m.a)(o,2),s=r[0],i=r[1];return l.a.createElement(w.a,null,l.a.createElement(D.a,{className:"p-5"},l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a(s),i(t)},className:"text-start"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("input",{type:"hidden",className:"col form-control",value:s.likes,onChange:function(e){return i(Object(y.a)({},s,{likes:e.target.value}))}}),l.a.createElement("div",{className:"form-group row mb-3"},l.a.createElement("label",{className:"col-3 form-label h5"},"Pet Name"),l.a.createElement("input",{type:"text",className:"col form-control",value:s.name,onChange:function(e){return i(Object(y.a)({},s,{name:e.target.value}))}})),l.a.createElement("div",{className:"form-group row mb-3"},l.a.createElement("label",{className:"col-3 form-label h5"},"Pet Type"),l.a.createElement("input",{type:"text",className:"col form-control",value:s.type,onChange:function(e){return i(Object(y.a)({},s,{type:e.target.value}))}})),l.a.createElement("div",{className:"form-group row mb-3"},l.a.createElement("label",{className:"col-3 form-label h5"},"Pet Description"),l.a.createElement("input",{type:"text",className:"col form-control",value:s.desc,onChange:function(e){return i(Object(y.a)({},s,{desc:e.target.value}))}}))),l.a.createElement("div",{className:"col offset-2"},l.a.createElement("h3",{className:"text-start mb-4"},"Skills (optional)"),l.a.createElement("div",{className:"form-group row mb-3"},l.a.createElement("label",{className:"col-3 form-label h5"},"Skill 1"),l.a.createElement("input",{type:"text",className:"col form-control",value:s.skill_1,onChange:function(e){return i(Object(y.a)({},s,{skill_1:e.target.value}))}})),l.a.createElement("div",{className:"form-group row mb-3"},l.a.createElement("label",{className:"col-3 form-label h5"},"Skill 2"),l.a.createElement("input",{type:"text",className:"col form-control",value:s.skill_2,onChange:function(e){return i(Object(y.a)({},s,{skill_2:e.target.value}))}})),l.a.createElement("div",{className:"form-group row mb-3"},l.a.createElement("label",{className:"col-3 form-label h5"},"Skill 3"),l.a.createElement("input",{type:"text",className:"col form-control",value:s.skill_3,onChange:function(e){return i(Object(y.a)({},s,{skill_3:e.target.value}))}})))),l.a.createElement(p.a,{variant:"contained",color:"primary",endIcon:l.a.createElement(S.a,null),type:"submit"},c))))},P=function(e){var t=Object(n.useState)([]),a=Object(m.a)(t,2),c=a[0],o=a[1],i=Object(s.f)();return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"text-end"},l.a.createElement(r.b,{to:"/"},"back to home")),l.a.createElement("h1",{className:"text-start mb-3"},"Pet Shelter"),l.a.createElement("h4",{className:"text-start mb-5"},"Know a pet needing a home?"),c.map(function(e,t){return l.a.createElement(x.a,{variant:"outlined",severity:"error",key:t,className:"mb-2"},e)}),l.a.createElement(C,{init:{name:"",type:"",desc:"",likes:0,skill_1:"",skill_2:"",skill_3:""},onSubmit:function(e){o([]),u.a.post("http://localhost:8000/api/pets",e).then(function(e){i.push("/")}).catch(function(e){var t=e.response.data.errors,a=[];for(var n in t)a.push(t[n].message);o(a)})},btn:"Add Pet"}))},F=function(e){var t=Object(s.g)().id,a=Object(n.useState)({name:"",type:"",desc:"",skill_1:"",skill_2:"",skill_3:""}),c=Object(m.a)(a,2),o=c[0],i=c[1],E=Object(n.useState)([]),p=Object(m.a)(E,2),f=p[0],b=p[1],d=Object(n.useState)(!1),h=Object(m.a)(d,2),g=h[0],v=h[1],N=Object(n.useState)(!1),k=Object(m.a)(N,2),j=k[0],O=k[1];Object(n.useEffect)(function(){O(!1),u.a.get("http://localhost:8000/api/pets/".concat(t)).then(function(e){i(e.data),O(!0)}).catch(function(e){console.log(e)})},[t,g]);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"text-end"},l.a.createElement(r.b,{to:"/"},"back to home")),l.a.createElement("h1",{className:"text-start mb-3"},"Pet Shelter"),l.a.createElement("h4",{className:"text-start mb-5"},"Edit ",o.name),f.map(function(e,t){return l.a.createElement(x.a,{variant:"outlined",severity:"error",key:t,className:"mb-2"},e)}),j&&l.a.createElement(C,{init:o,onSubmit:function(e){v(!1),b([]),u.a.put("http://localhost:8000/api/pets/".concat(t),e).then(function(e){v(!0)}).catch(function(e){console.log(e);var t=e.response.data.Error.errors,a=[];for(var n in t)a.push(t[n].message);b(a)})},btn:"Edit Pet"}))},I=a(174),L=a(133),T=a.n(L),A=function(e){var t=e.item,a=e.like;return l.a.createElement(w.a,null,l.a.createElement(D.a,null,l.a.createElement(I.a,{gutterBottom:!0,variant:"h3"},t.nmae),l.a.createElement(I.a,{variant:"body1",className:"text-start"},l.a.createElement("p",null,l.a.createElement("span",{className:"h4"},"Pet type:")," ",t.type),l.a.createElement("p",null,l.a.createElement("span",{className:"h4"},"Description:")," ",t.desc),l.a.createElement("p",null,l.a.createElement("span",{className:"h4"},"Skills:")," ",t.skill_1," ",t.skill_2,t.skill_3)),l.a.createElement("div",{className:"row mx-5"},l.a.createElement(p.a,{variant:"contained",color:"success",startIcon:l.a.createElement(T.a,null),className:"col",onClick:function(e){return a(t._id)}},"Like ",t.name),l.a.createElement("p",{className:"col"}," ",t.likes," Like(s)"))))},B=function(e){var t=e.id,a=e.onDelete,n=e.icon;return l.a.createElement(p.a,{variant:"contained",color:"error",startIcon:n,onClick:function(e){return function(e){u.a.delete("http://localhost:8000/api/pets/".concat(e)).then(function(t){a(e)}).catch(function(e){return console.log(e)})}(t)},className:"col-auto mx-2 btn btn-outline-danger"},e.children)},M=a(134),J=a.n(M),K=Object(E.a)(":8000"),R=function(e){var t=Object(s.g)().id,a=Object(n.useState)({}),c=Object(m.a)(a,2),o=c[0],i=c[1],E=Object(n.useState)(!1),p=Object(m.a)(E,2),f=p[0],b=p[1],d=Object(s.f)();Object(n.useEffect)(function(){return K.on("connect",function(){console.log("D connected")}),K.on("disconnect",function(){console.log("D disconnected")}),console.log("Datail in"),K.on("adopted",function(e){console.log("am I here ?"),console.log(e)}),function(){K.disconnect(!0)}},[]),Object(n.useEffect)(function(){u.a.get("http://localhost:8000/api/pets/".concat(t)).then(function(e){i(e.data)}).catch(function(e){return console.log(e)})},[t,f]);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"text-end"},l.a.createElement(r.b,{to:"/"},"back to home")),l.a.createElement("h1",{className:"text-start mb-3"},"Pet Shelter"),l.a.createElement("div",{className:"row mb-5"},l.a.createElement("h4",{className:"text-start col"},"Details about: ",o.name),l.a.createElement(B,{id:o._id,onDelete:function(){d.push("/")},icon:l.a.createElement(J.a,null)},"Adopt ",o.name)),l.a.createElement(A,{item:o,like:function(e){b(!1),K.emit("Liking_pet",o._id),u.a.patch("http://localhost:8000/api/pets/".concat(e)).then(function(e){return b(!0)}).catch(function(e){return console.log(e)})}}))};var W=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(r.a,null,l.a.createElement(s.c,null,l.a.createElement(s.a,{exact:!0,path:"/"},l.a.createElement(O,null)),l.a.createElement(s.a,{exact:!0,path:"/pets/new"},l.a.createElement(P,null)),l.a.createElement(s.a,{exact:!0,path:"/pets/:id/edit"},l.a.createElement(F,null)),l.a.createElement(s.a,{exact:!0,path:"/pets/:id"},l.a.createElement(R,null)))))},q=function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,169)).then(function(t){var a=t.getCLS,n=t.getFID,l=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),l(e),c(e),o(e)})};o.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(W,null))),q()},88:function(e,t,a){e.exports=a(143)},96:function(e,t,a){},98:function(e,t,a){}},[[88,3,2]]]);
//# sourceMappingURL=main.90f53f44.chunk.js.map